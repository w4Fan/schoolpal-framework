@import "../variables";
@import "../mixins";

$button-default-text-color: unquote("rgb(#{$color-black})") !default;
$button-default-color: unquote("rgba(#{$palette-grey-500}, 0.20)") !default;
$button-default-hover-color: unquote("rgba(#{$palette-grey-500}, 0.20)") !default;
$button-default-active-color: unquote("rgba(#{$palette-grey-500}, 0.40)") !default;
$button-default-focus-color: unquote("rgba(#{$color-black}, 0.12)") !default;

$button-primary-color-disabled: unquote("rgba(#{$color-black}, 0.12)") !default;
$button-secondary-color-disabled: unquote("rgba(#{$color-black}, 0.26)") !default;

$button-raised-text-color: unquote("rgb(#{$color-white})") !default;
$button-primary-text-color: unquote("rgb(#{$palette-indigo-500})") !default;
$button-primary-color: unquote("rgb(#{$palette-indigo-500})") !default;
$button-primary-hover-color: unquote("rgba(#{$palette-indigo-500},0.80)") !default;
$button-primary-active-color: unquote("rgba(#{$palette-indigo-500},0.90)") !default;
$button-primary-focus-color: unquote("rgba(#{$color-white}, 0.12)") !default;

.button {
  background: transparent;
  border: none;
  border-radius: $button-border-radius;
  color: $button-default-text-color;
  position: relative;
  height: $button-height;
  margin: 0;
  min-width: $button-min-width;
  padding: 0 $button-padding;
  display: inline-block;
  @include typo-button();
  overflow: hidden;
  will-change: box-shadow;
  transition: box-shadow 0.2s $animation-curve-fast-out-linear-in,
    background-color 0.2s $animation-curve-default,
    color 0.2s $animation-curve-default;
  outline: none;
  cursor: pointer;
  text-decoration: none;
  text-align: center;
  line-height: $button-height;
  vertical-align: middle;

  &::-moz-focus-inner {
    border: 0;
  }

  &:hover {
    background-color: $button-default-hover-color;
  }

  &:focus:not(:active) {
    background-color: $button-default-focus-color;
  }

  &:active {
    background-color: $button-default-active-color;
  }
}

input.button[type="submit"] {
  -webkit-appearance: none;
}

.button--raised {
  background: $button-default-color;
  @include shadow-2dp();

  &:active {
    @include shadow-4dp();
  }

  &:focus:not(:active) {
    @include focus-shadow();
  }
}

.button--fab {
  border-radius: 50%;
  font-size: $button-fab-font-size;
  height: $button-fab-size;
  margin: auto;
  min-width: $button-fab-size;
  width: $button-fab-size;
  padding: 0;
  overflow: hidden;
  background: $button-default-color;
  box-shadow: 0 1px 1.5px 0 rgba(0, 0, 0, 0.12), 0 1px 1px 0 rgba(0, 0, 0, 0.24);
  position: relative;
  line-height: normal;

  & .fa {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(
      - $button-fab-font-size / 2,
      - $button-fab-font-size / 2
    );
    line-height: $button-fab-font-size;
    width: $button-fab-font-size;
  }

  &.button--mini-fab {
    height: $button-fab-size-mini;
    min-width: $button-fab-size-mini;
    width: $button-fab-size-mini;
  }

  &:active {
    @include shadow-4dp();
    background-color: $button-default-active-color;
  }

  &:focus:not(:active) {
    @include focus-shadow();
    background-color: $button-default-active-color;
  }
}

.button--icon {
  border-radius: 50%;
  font-size: $button-fab-font-size;
  height: $button-icon-size;
  margin-left: 0;
  margin-right: 0;
  min-width: $button-icon-size;
  width: $button-icon-size;
  padding: 0;
  overflow: hidden;
  color: inherit;
  line-height: normal;

  & .fa {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(
      - $button-fab-font-size / 2,
      - $button-fab-font-size / 2
    );
    line-height: $button-fab-font-size;
    width: $button-fab-font-size;
  }

  &.button--mini-icon {
    height: $button-icon-size-mini;
    min-width: $button-icon-size-mini;
    width: $button-icon-size-mini;

    & .fa {
      top: ($button-icon-size-mini - $button-fab-font-size) / 2;
      left: ($button-icon-size-mini - $button-fab-font-size) / 2;
    }
  }
}

.button .fa {
  vertical-align: middle;
}

.button--primary {
  color: $button-primary-text-color;

  &.button--raised,
  &.button--fab {
    color: $button-raised-text-color;
    background-color: $button-primary-color;

    &:hover {
      background-color: $button-primary-hover-color;
    }
  
    &:focus:not(:active) {
      background-color: $button-primary-focus-color;
    }
  
    &:active {
      background-color: $button-primary-active-color;
    }
  }
}

.button {
  &[disabled][disabled],
  &.button--disabled.button--disabled {
    color: $button-secondary-color-disabled;
    cursor: default;
    background-color: transparent;
  }

  &--fab {
    &[disabled][disabled],
    &.button--disabled.button--disabled {
      background-color: $button-primary-color-disabled;
      color: $button-secondary-color-disabled;
    }
  }

  &--raised {
    &[disabled][disabled],
    &.button--disabled.button--disabled {
      background-color: $button-primary-color-disabled;
      color: $button-secondary-color-disabled;
      box-shadow: none;
    }
  }
  &--colored {
    &[disabled][disabled],
    &.button--disabled.button--disabled {
      color: $button-secondary-color-disabled;
    }
  }
}
